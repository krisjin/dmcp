<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.hx.dmcp.dao.VisaItemDao">
	<insert id="addVisaItem" parameterType="com.hx.dmcp.entity.VisaItem">
		insert into visa_item(name,sort,display) values (#{name},#{sort},#{display})
		<selectKey resultType="long" keyProperty="id">
			SELECT LAST_INSERT_ID()
		</selectKey>
	</insert>

	<delete id="deleteVisaItem" parameterType="long">
	delete from visa_item where id=#{id}
	</delete>
	
	<update id="updateVisaItem" parameterType="com.hx.dmcp.entity.VisaItem">
		update visa_item set name=#{name},sort=#{sort},display=#{display} where id=#{id}
	</update>
		
	<select id="getVisaItemByDisplay" resultType="com.hx.dmcp.entity.VisaItem">
		select * from visa_item where display=1 order by sort asc limit #{offset},#{rows}
	</select>
	
	<select id="getVisaItem" resultType="com.hx.dmcp.entity.VisaItem">
		select * from visa_item  order by sort asc limit #{offset},#{rows}
	</select>
	
	<select id="getAllCounts" resultType="int">
		select count(*) from visa_item
	</select>
	<select id="getVisaItemById" resultType="com.hx.dmcp.entity.VisaItem">
		select * from visa_item where id=#{id}	
	</select>
</mapper>  
